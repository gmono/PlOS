# PlOS
基于Web前端技术的可扩展WebOS系统
# 目前进度 
基本结构确定
## 协议
已经确定系统内“远距离调用”采用IPOP(内部公共访问协议)实现互相调用
此协议正在制定中 将成为系统内进程间通信和系统调用的核心部分
预计将分为Server和Client两部分 Server可以放在任何地方 与任何客户端无关
此协议预计将包括以下子协议
### 调用协议
存在于Client端和Server端
通过标准通信数据包传递调用和返回信息，包括一组异步方法用于解析操作和返回值
### 声明协议
用于Client端提交声明信息到Server端
Server端产生相应的代理函数(异步)供调用
### 查询协议
用于Client向Server查询可供调用的方法的信息

##协议整体说明
此协议与相应库目的在于提供一组跨线程的直观的互相调用的接口
屏蔽通信交互的复杂操作
对Worker调用系统接口提供友好界面
同时屏蔽内部具体实现，增强可维护性，目前考虑使用JSON传递参数和返回值
但同时考虑允许采用更高性能的Shared ArrayBuffer传递大体积数据
### 传输层
传输层协议用于确定数据将以何种方式传输 目前考虑以JSON,ArrayBuffer和SharedArrayBuffer三种方式传输数据 
传输层协议提供一个独立的ITransObject接口 
任何具体的传输层协议的实现都需要实现这一接口 
不同传输层协议的实现 可能有不同规范 例如预计SharedArrayBuffer会规定对象不可写
并且提供额外的复制函数，以及对是否可写的声明接口
注意，传输层协议实现只负责从数据获得对象，最终产物为一个对象
### 传输层协议详细计划
传输层协议目前考虑实现基于JSON的SOTP(简单对象传输协议) 
此协议内容很简单，即将对象以JSON字符串的形式序列化后传输
下一步考虑实现基于SharedArrayBuffer的传输层协议

